<template>
<div>
    <div>æ–‡æ¡£ï¼šhttp://www.wangeditor.com/</div>
    <div>githubï¼šhttps://github.com/wangeditor-team/wangEditor/</div>
    <div>ä¸€ä¸ªæ”¯æŒmarkdownçš„ç¼–è¾‘å™¨ï¼Œgithubï¼šhttps://github.com/hinesboy/mavonEditor</div>
    <div>è¿™ä¸ªä¹Ÿä¸é”™ï¼Œhttps://www.yuque.com/chaojie-vjiel/vbwzgu/zg6zcq</div>
    <div id="editor"></div>
</div>
</template>

<script>
import E from "wangeditor";

export default {
    name: 'Wangeditor',
    data() {
        return {}
    },
    // created() {
    //     this.init() //éœ€è¦ä½¿ç”¨setTimeoutï¼Œ ç”Ÿå‘½å‘¨æœŸè¦æ¸…æ¥š
    // },
    mounted() {
        this.init()
    },
    methods: {
        init() {
            // setTimeout(function () {
                const editor = new E("#editor");
                // é»˜è®¤æƒ…å†µä¸‹ï¼Œæ˜¾ç¤ºæ‰€æœ‰èœå•
                // editor.config.menus = [
                //     'head',
                //     'bold',
                //     'fontSize',
                //     'fontName',
                //     'italic',
                //     'underline',
                //     'strikeThrough',
                //     'indent',
                //     'lineHeight',
                //     'foreColor',
                //     'backColor',
                //     'link',
                //     'list',
                //     'justify',
                //     'quote',
                //     'emoticon',
                //     'image',
                //     'video',
                //     'table',
                //     'code',
                //     'splitLine',
                //     'undo',
                //     'redo',
                // ];
                // é…ç½®é¢œè‰²ï¼ˆæ–‡å­—é¢œè‰²ã€èƒŒæ™¯è‰²ï¼‰
                // editor.config.colors = [
                //     '#000000',
                //     '#eeece0',
                //     '#1c487f',
                //     '#4d80bf'
                // ]

                // é…ç½®å­—ä½“
                // editor.config.fontNames = [
                //     'é»‘ä½“',
                //     'ä»¿å®‹',
                //     'æ¥·ä½“',
                //     'æ ‡æ¥·ä½“',
                //     'åæ–‡ä»¿å®‹',
                //     'åæ–‡æ¥·ä½“',
                //     'å®‹ä½“',
                //     'å¾®è½¯é›…é»‘',
                //     'Arial',
                //     'Tahoma',
                //     'Verdana',
                //     'Times New Roman',
                //     'Courier New',
                // ]
                // é…ç½®è¡Œé«˜
                // editor.config.lineHeights = ['1', '1.15', '1.6', '2', '2.5', '3']

                //é…ç½®è¡¨æƒ…å›¾æ ‡
                // const SINA_URL_PATH = 'http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal'
                // editor.config.emotions = [{
                //         title: 'æ–°æµª', // tab çš„æ ‡é¢˜
                //         type: 'image', // 'emoji' æˆ– 'image' ï¼Œå³ emoji å½¢å¼æˆ–è€…å›¾ç‰‡å½¢å¼
                //         content: [{
                //                 alt: '[åç¬‘]',
                //                 src: `${SINA_URL_PATH}/50/pcmoren_huaixiao_org.png`
                //             },
                //             {
                //                 alt: '[èˆ”å±]',
                //                 src: `${SINA_URL_PATH}/40/pcmoren_tian_org.png`
                //             },
                //             {
                //                 alt: '[æ±¡]',
                //                 src: `${SINA_URL_PATH}/3c/pcmoren_wu_org.png`
                //             },
                //         ]
                //     },
                //     {
                //         title: 'emoji', // tab çš„æ ‡é¢˜
                //         type: 'emoji', // 'emoji' / 'image'
                //         // emoji è¡¨æƒ…ï¼Œcontent æ˜¯ä¸€ä¸ªæ•°ç»„å³å¯
                //         content: 'ğŸ˜€ ğŸ˜ƒ ğŸ˜„ ğŸ˜ ğŸ˜† ğŸ˜… ğŸ˜‚ ğŸ˜Š ğŸ˜‡ ğŸ™‚ ğŸ™ƒ ğŸ˜‰ ğŸ˜“ ğŸ˜ª ğŸ˜´ ğŸ™„ ğŸ¤” ğŸ˜¬ ğŸ¤'.split(/\s/),
                //     }
                // ]

                // æŒ‚è½½highlightæ’ä»¶
                //ã€å¼•å…¥ã€‘
                // npm install highlight.js -S
                // import hljs from 'highlight.js'
                // import 'highlight.js/styles/monokai_sublime.css'
                // [end]
                // editor.highlight = hljs

                // é…ç½® onchange å›è°ƒå‡½æ•°
                // editor.config.onchange = function (newHtml) {
                //     console.log('change ä¹‹åæœ€æ–°çš„ html', newHtml)
                // }
                // é…ç½®è§¦å‘ onchange çš„æ—¶é—´é¢‘ç‡ï¼Œé»˜è®¤ä¸º 200ms
                // editor.config.onchangeTimeout = 500 // ä¿®æ”¹ä¸º 500ms

                // editor.config.onblur = function (newHtml) {
                //     console.log('onblur', newHtml) // è·å–æœ€æ–°çš„ html å†…å®¹
                // }
                // editor.config.onfocus = function (newHtml) {
                //     console.log('onfocus', newHtml) // è·å–æœ€æ–°çš„ html å†…å®¹
                // }

                // æ’å…¥ç½‘ç»œå›¾ç‰‡çš„å›è°ƒ
                // editor.config.linkImgCallback = function (src) {
                //     console.log('å›¾ç‰‡ src ', src)
                // }
                // è®¾ç½® editor.config.uploadImgShowBase64 = true å¯ä½¿ç”¨ base64 æ ¼å¼ä¿å­˜å›¾ç‰‡

                //==================================image upload======================================
                // é…ç½® server æ¥å£åœ°å€
                // editor.config.uploadImgServer = '/upload-img'
                // æ¥å£è¦è¿”å› application/json æ ¼å¼ï¼Œæ ¼å¼è¦æ±‚å¦‚ä¸‹ï¼š

                // {
                //     // errno å³é”™è¯¯ä»£ç ï¼Œ0 è¡¨ç¤ºæ²¡æœ‰é”™è¯¯ã€‚
                //     //       å¦‚æœæœ‰é”™è¯¯ï¼Œerrno != 0ï¼Œå¯é€šè¿‡ä¸‹æ–‡ä¸­çš„ç›‘å¬å‡½æ•° fail æ‹¿åˆ°è¯¥é”™è¯¯ç è¿›è¡Œè‡ªå®šä¹‰å¤„ç†
                //     "errno": 0,

                //     // data æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›å›¾ç‰‡çš„çº¿ä¸Šåœ°å€
                //     "data": [
                //         "å›¾ç‰‡1åœ°å€",
                //         "å›¾ç‰‡2åœ°å€",
                //         "â€¦â€¦"
                //     ]
                // }
                // editor.config.uploadImgMaxSize = 2 * 1024 * 1024 // 2M
                // editor.config.uploadImgAccept = ['jpg', 'jpeg', 'png', 'gif', 'bmp']
                // editor.config.uploadImgMaxLength = 5 // ä¸€æ¬¡æœ€å¤šä¸Šä¼  5 ä¸ªå›¾ç‰‡
                // editor.config.uploadImgParams = {
                //     token: 'xxxxx',
                //     x: 100
                // }
                // å¦‚æœéœ€è¦å°†å‚æ•°æ‹¼æ¥åˆ° url ä¸­ï¼Œ å¯å†åŠ ä¸Šå¦‚ä¸‹é…ç½®ã€‚
                // editor.config.uploadImgParamsWithUrl = true
                // editor.config.uploadFileName = 'your-custom-fileName'
                // editor.config.uploadImgHeaders = {
                //     Accept: 'text/x-json',
                //     a: 100,
                // }
                // è·¨åŸŸä¸Šä¼ ä¸­å¦‚æœéœ€è¦ä¼ é€’ cookie éœ€è®¾ç½® withCredentialsã€‚

                // editor.config.withCredentials = true
                // editor.config.uploadImgTimeout = 5 * 1000
                // editor.config.uploadImgHooks = {
                //     // ä¸Šä¼ å›¾ç‰‡ä¹‹å‰
                //     before: function (xhr) {
                //         console.log(xhr)

                //         // å¯é˜»æ­¢å›¾ç‰‡ä¸Šä¼ 
                //         return {
                //             prevent: true,
                //             msg: 'éœ€è¦æç¤ºç»™ç”¨æˆ·çš„é”™è¯¯ä¿¡æ¯'
                //         }
                //     },
                //     // å›¾ç‰‡ä¸Šä¼ å¹¶è¿”å›äº†ç»“æœï¼Œå›¾ç‰‡æ’å…¥å·²æˆåŠŸ
                //     success: function (xhr) {
                //         console.log('success', xhr)
                //     },
                //     // å›¾ç‰‡ä¸Šä¼ å¹¶è¿”å›äº†ç»“æœï¼Œä½†å›¾ç‰‡æ’å…¥æ—¶å‡ºé”™äº†
                //     fail: function (xhr, editor, resData) {
                //         console.log('fail', resData)
                //     },
                //     // ä¸Šä¼ å›¾ç‰‡å‡ºé”™ï¼Œä¸€èˆ¬ä¸º http è¯·æ±‚çš„é”™è¯¯
                //     error: function (xhr, editor, resData) {
                //         console.log('error', xhr, resData)
                //     },
                //     // ä¸Šä¼ å›¾ç‰‡è¶…æ—¶
                //     timeout: function (xhr) {
                //         console.log('timeout')
                //     },
                //     // å›¾ç‰‡ä¸Šä¼ å¹¶è¿”å›äº†ç»“æœï¼Œæƒ³è¦è‡ªå·±æŠŠå›¾ç‰‡æ’å…¥åˆ°ç¼–è¾‘å™¨ä¸­
                //     // ä¾‹å¦‚æœåŠ¡å™¨ç«¯è¿”å›çš„ä¸æ˜¯ { errno: 0, data: [...] } è¿™ç§æ ¼å¼ï¼Œå¯ä½¿ç”¨ customInsert
                //     customInsert: function (insertImgFn, result) {
                //         // result å³æœåŠ¡ç«¯è¿”å›çš„æ¥å£
                //         console.log('customInsert', result)

                //         // insertImgFn å¯æŠŠå›¾ç‰‡æ’å…¥åˆ°ç¼–è¾‘å™¨ï¼Œä¼ å…¥å›¾ç‰‡ src ï¼Œæ‰§è¡Œå‡½æ•°å³å¯
                //         insertImgFn(result.data[0])
                //     }
                // }

                // editor.config.customUploadImg = function (resultFiles, insertImgFn) {
                //     // resultFiles æ˜¯ input ä¸­é€‰ä¸­çš„æ–‡ä»¶åˆ—è¡¨
                //     // insertImgFn æ˜¯è·å–å›¾ç‰‡ url åï¼Œæ’å…¥åˆ°ç¼–è¾‘å™¨çš„æ–¹æ³•

                //     // ä¸Šä¼ å›¾ç‰‡ï¼Œè¿”å›ç»“æœï¼Œå°†å›¾ç‰‡æ’å…¥åˆ°ç¼–è¾‘å™¨ä¸­
                //     insertImgFn(imgUrl)
                // }

                // è®¾ç½® editor.config.showLinkImg = false å³å¯éšè—æ’å…¥ç½‘ç»œå›¾ç‰‡çš„åŠŸèƒ½ï¼Œå³åªä¿ç•™ä¸Šä¼ æœ¬åœ°å›¾ç‰‡ã€‚



                editor.create();
                editor.txt.html('åˆå§‹åŒ–æ•°æ®ï¼Œ è¿™ä¸ªåªæ˜¯ä¸€ä¸ªä¾‹å­ï¼Œéœ€è¦ç”¨çš„æ—¶å€™å•ç‹¬å°è£…')
                //editor.txt.clear()
            // }, 100);

        }
    }
}
</script>
